import{_ as v,r as i,c as y,j as x,o as f,a as _,d as r,t as S,n as p,e as I,F as b,f as k}from"./index-B_0OYmCJ.js";const P={__name:"ScratchCard",props:{backgroundImage:{type:String,required:!0},textColor:{type:String,default:"#000000"},text:{type:String,required:!0}},setup(u){const n=u,c=i(null),l=y(()=>({backgroundImage:`url(${n.backgroundImage})`}));return x(()=>{const t=c.value,o=t.getContext("2d");(()=>{t.width=t.offsetWidth,t.height=t.offsetHeight,o.fillStyle="#888",o.fillRect(0,0,t.width,t.height)})();const g=(a,e)=>{const s=a.getBoundingClientRect();return{x:e.clientX-s.left,y:e.clientY-s.top}},h=(a,e)=>{const s=a.getBoundingClientRect(),m=e.touches[0];return{x:m.clientX-s.left,y:m.clientY-s.top}},d=(a,e)=>{o.globalCompositeOperation="destination-out",o.beginPath(),o.arc(a,e,20,0,2*Math.PI,!1),o.fill()};t.addEventListener("mousemove",a=>{if(a.buttons===1){const e=g(t,a);d(e.x,e.y)}}),t.addEventListener("mousedown",a=>{const e=g(t,a);d(e.x,e.y)}),t.addEventListener("touchmove",a=>{a.preventDefault();const e=h(t,a);d(e.x,e.y)}),t.addEventListener("touchstart",a=>{const e=h(t,a);d(e.x,e.y)})}),(t,o)=>(f(),_("div",{class:"card",style:p(l.value)},[r("canvas",{class:"scratch-canvas",ref_key:"scratchCanvas",ref:c},null,512),r("div",{class:"card-text",style:p({color:n.textColor})},S(n.text),5)],4))}},w=v(P,[["__scopeId","data-v-2cd2f5de"]]),R=r("h1",null,"Card",-1),L=r("h3",null,[r("span",{class:"underlined-text"},"Swipe"),k(" for a pleasant surprise")],-1),E={__name:"CardView",setup(u){const n=i(""),c=i(""),l=i(""),t=()=>{const o=new URLSearchParams(window.location.search);n.value=decodeURIComponent(o.get("text")||""),c.value=decodeURIComponent(o.get("img")||""),l.value=decodeURIComponent(o.get("color")||"")};return x(()=>{t()}),(o,C)=>(f(),_(b,null,[R,L,I(w,{text:n.value,backgroundImage:c.value,textColor:l.value},null,8,["text","backgroundImage","textColor"])],64))}};export{E as default};
